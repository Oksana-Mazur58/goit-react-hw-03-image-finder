{"version":3,"sources":["component/Modal/Modal.js","component/ImageGallery/ImageGallery.js","component/Searchbar/Searchbar.js","component/Loader/Loader.js","component/Button/Button.js","services/news-api.js","App.js","index.js"],"names":["Modal","static","onCloseModal","PropTypes","func","isRequired","handleKeyDown","e","code","props","handleBackdropClick","currentTarget","target","window","addEventListener","this","removeEventListener","className","onClick","children","Component","ImageGallery","images","onOpenModal","map","id","webformatURL","tags","largeImageURL","src","alt","Searchbar","onSubmit","state","query","handleChange","setState","value","handleSubmit","preventDefault","type","onChange","autoComplete","autoFocus","placeholder","Spinner","color","height","width","timeout","Button","searchQuery","currentPage","axios","get","App","isLoading","error","showModal","modalImage","modalAlt","onChangeQuery","fetchImages","options","newsApi","then","response","prevState","data","hits","scrollWindow","catch","finally","openModal","url","closeModal","prevProps","scrollTo","top","document","documentElement","scrollHeight","behavior","alert","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c386f5b9.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Modal extends Component{\r\n     static = {\r\n        onCloseModal: PropTypes.func.isRequired\r\n    }\r\n    componentDidMount() {\r\n        window.addEventListener('keydown', this.handleKeyDown) \r\n    }\r\n    componentWillUnmount() {\r\n        window.removeEventListener('keydown', this.handleKeyDown)\r\n    }\r\n\r\n    handleKeyDown = e => {\r\n        if (e.code === \"Escape\") {\r\n                this.props.onCloseModal();\r\n           } \r\n    }\r\n    handleBackdropClick = e => {\r\n        if (e.currentTarget === e.target) {\r\n            this.props.onCloseModal()\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n        <div className=\"Overlay\" onClick={this.handleBackdropClick}>\r\n        <div className=\"Modal\">\r\n        {this.props.children}\r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n}\r\nexport default Modal","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\nconst ImageGallery = ({ images, onOpenModal }) => {\r\n    return (\r\n        <ul className=\"ImageGallery\">\r\n            {images.map(({ id, webformatURL, tags, largeImageURL}) => (\r\n                <li key={id} className=\"ImageGalleryItem\" onClick={()=>{onOpenModal(largeImageURL, tags)}}>\r\n                    <img className=\"ImageGalleryItem-image\" src={webformatURL} alt={tags} ></img>\r\n                     \r\n                </li>\r\n            ))}\r\n        </ul>\r\n    )\r\n}\r\nImageGallery.propTypes = {\r\n    images: PropTypes.array.isRequired,\r\n    onOpenModal: PropTypes.func.isRequired\r\n}\r\nexport default ImageGallery","import React, { Component } from 'react';\r\n\r\n import PropTypes from 'prop-types';\r\n\r\nclass Searchbar extends Component {\r\n     static = {\r\n        onSubmit: PropTypes.func.isRequired\r\n    }\r\n   \r\n    state = {\r\n        query: ''\r\n    }\r\n    handleChange = e => {\r\n        this.setState({ query: e.currentTarget.value })\r\n    }\r\n    handleSubmit = e => {\r\n        e.preventDefault();\r\n        this.props.onSubmit(this.state.query)\r\n        this.setState({ query: '' })\r\n    }\r\n    render() {\r\n    \r\n        return (<header className=\"Searchbar\">\r\n            <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n                <button type=\"submit\" className=\"SearchForm-button\">\r\n                    <span className=\"SearchForm-button-label\">Search</span>\r\n                </button>\r\n\r\n                <input\r\n                    className=\"SearchForm-input\"\r\n                    type=\"text\"\r\n                    value={this.state.query}\r\n                    onChange={this.handleChange}\r\n                    autoComplete=\"off\"\r\n                    autoFocus\r\n                    placeholder=\"Search images and photos\"\r\n                />\r\n            </form>\r\n        </header>\r\n        )\r\n    }\r\n}\r\nexport default Searchbar\r\n\r\n","import React from 'react';\r\nimport Loader from \"react-loader-spinner\";\r\nconst Spinner = () => {\r\n    return (\r\n        <div className=\"spinner\">\r\n            <Loader\r\n                type=\"Puff\"\r\n                color=\"#00BFFF\"\r\n                height={100}\r\n                width={100}\r\n                timeout={3000}/>\r\n        </div>\r\n    )\r\n}\r\nexport default Spinner","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nconst Button = ({ onClick }) => {\r\n    return (\r\n        <div className=\"Button__container\">\r\n            <button type=\"button\"\r\n                className=\"Button\"\r\n                onClick={onClick}>Load more</button>\r\n        </div>\r\n    )\r\n}\r\nButton.propTypes = {\r\n    onClick: PropTypes.func.isRequired\r\n}\r\nexport default Button","import axios from 'axios';\r\n\r\nconst fetchImages = ({ searchQuery = '', currentPage = 1 }) => {\r\n    return  axios.get(`https://pixabay.com/api/?key=21326628-9a70d89bbf799e4753ffadf9e&image_type=photo&orientation=horizontal\r\n        &q=${searchQuery}&per_page=12&page=${currentPage}`)\r\n  \r\n}\r\nexport default { fetchImages }","import React, { Component } from 'react';\n\nimport './index.css'\nimport Modal from './component/Modal'\nimport ImageGallery from './component/ImageGallery'\nimport Searchbar from './component/Searchbar'\nimport Spinner from './component/Loader'\nimport Button from './component/Button'\nimport newsApi from './services/news-api'\n\n\n\n\n\n// axios.defaults.headers.common['Authorization'] = 'Bearer 21326628-9a70d89bbf799e4753ffadf9e'\n\n//Key 21326628-9a70d89bbf799e4753ffadf9e\n\nclass App extends Component {\n    state = {\n        images: [],\n        currentPage: 1,\n        searchQuery: '',\n        isLoading: false,\n        error: null,\n        showModal: false,\n        modalImage: '',\n        modalAlt:'',\n    }\n   \n    componentDidUpdate(prevProps, prevState) {\n        if (prevState.searchQuery !== this.state.searchQuery) {\n         this.fetchImages()   \n        }\n    }\n\n    onChangeQuery = (query) => {\n        this.setState({\n            searchQuery: query,\n            currentPage: 1,\n            images: [],\n            error: null,\n        })\n    }\n\n    fetchImages = () => {\n        const { currentPage, searchQuery, } = this.state;\n        const options = {\n            currentPage,\n            searchQuery,\n        }\n        this.setState({isLoading:true})\n       newsApi.fetchImages(options).then(response => {\n                this.setState(prevState => ({\n                    images:[...prevState.images, ...response.data.hits],\n                    currentPage: prevState.currentPage + 1,\n\n                }))\n           this.scrollWindow();\n       }).catch(error=>this.setState({error}))\n           .finally(() => this.setState({ isLoading: false }))\n    }\n    scrollWindow() {\n    window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n  }\n     openModal = (url, alt) => {\n        this.setState(({showModal})=>({\n            showModal: !showModal,\n            modalImage: url,\n            modalAlt: alt\n        }))\n     }\n     closeModal = () => {\n        this.setState(({showModal})=>({\n            showModal: !showModal,\n            modalImage: '',\n            modalAlt: '',\n        }))\n    }\n    render() {\n        const { images, isLoading, error, showModal, modalImage, modalAlt} = this.state\n        return (\n            <div>\n                {showModal && <Modal onCloseModal={this.closeModal}>\n                    <img className=\"modalImg\" src={modalImage} alt={modalAlt} />\n                </Modal>}\n                {error && alert(\"Something went wrong. Try again!\")}\n                <Searchbar onSubmit={this.onChangeQuery} />\n                {isLoading &&  <Spinner/>}\n                <ImageGallery images={images}\n                    onOpenModal={this.openModal}/>\n           \n                {images.length>0 &&(<Button onClick={this.fetchImages} />)}\n            </div>\n        )\n    }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport 'modern-normalize/modern-normalize.css';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}